{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nimport SimpleLightBox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// import getImagesByQuery from \"./pixabay-api\"\n\n\n// createGallery(images)\n\nexport function createGallery(arr) {\n        const galleryMarcup =  arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => { return `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n    <ul class=\"description\">\n    <li class=\"descr-item\"><p class=\"descr-item-title\">Likes</p><p class=\"descr-item-value\">${likes}</p></li>\n    <li class=\"descr-item\"><p class=\"descr-item-title\">Views</p><p class=\"descr-item-value\">${views}</p></li>\n    <li class=\"descr-item\"><p class=\"descr-item-title\">Comments</p><p class=\"descr-item-value\">${comments}</p></li>\n    <li class=\"descr-item\"><p class=\"descr-item-title\">Downloads</p><p class=\"descr-item-value\">${downloads}</p></li>\n    </ul></a>\n    </li>\n    `}).join(\"\");\n    clearGallery(galleryMarcup)\n};\n\nexport function clearGallery(clearString = \"\") {\n    const gallery = document.querySelector(\".gallery\");\ngallery.innerHTML = clearString;\nif (clearString) {\n    runLightbox();\n}\n};\n\nfunction runLightbox() {\n    const newGallery = new SimpleLightBox('.gallery a', {\n        captionData: 'alt',\n        captionDelay: 250,\n        overlayOpacity: 0.8,\n    });\n    newGallery.refresh();\n};\n\n  export function newLoader(style) {\n    const loader = document.querySelector(\".loader\");\n    loader.style.displey = style; \n  }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\nimport { createGallery, newLoader } from \"./render-functions\";\nconst API_KEY = \"49624425-89d18311d8423019c2709bd63\";\n\nconst nameInput = document.querySelector(\".js-name-input\");\n\n\n\n// \n// function getImagesByQuery(query){\n// return nameInput.value;\n// };\n\n export function getImagesByQuery(images) {\n    // event.preventDefault();\n    // console.log(nameInput.value);\n    \n    axios(`https://pixabay.com/api/?key=${API_KEY}&q=${nameInput.value}&image_type=photo&orientation=horizontal&safesearch=true&per_page=198`)\n    .then(response => {\n        if (!response.data.hits.length) {\n            // errorVision()\n            iziToast.show({\n                title: \"Sorry, there are no images matching your search query. Please try again!\",\n                backgroundColor: \"#ef4040\",\n                titleColor: \"#fff\",\n                titleSize: \"16px\",\n                position: \"topRight\",\n                // iconURL: '/src/public/ellipse.png',\n                // width: '300px',\n            });\n            return;\n        }\n        createGallery(response.data.hits)\n        // console.log(response.data.hits);\n        // gallery.innerHTML = galleryDatalist(response.data.hits);\n        const images = response.data.hits;\n        // gallery.innerHTML = galleryDatalist(galleryList);\n    })\n    .catch(error => iziToast.show({\n                title: `${error.message}`,\n                backgroundColor: \"#ef4040\",\n                titleColor: \"#fff\",\n                titleSize: \"16px\",\n                position: \"topRight\",\n                // width: \"300px\",\n            }))\n            .finally(() => {\n                newLoader(\"none\");\n            });\n};\n\n// function errorVision() {\n//     iziToast.show({\n//         title: `${error.message}`,\n//         backgroundColor: \"#ef4040\",\n//         titleColor: \"#fff\",\n//         titleSize: \"16px\",\n//         position: \"topRight\",\n//         width: \"300px\",\n//     })\n// }\n\n// function galleryDatalist(arr) {\n//     return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `<li class=\"gallery-item\">\n//   <a class=\"gallery-link\" href=\"${largeImageURL}\">\n//       <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/></a>\n// <ul class=\"description\">\n// <li class=\"descr-item\"><p class=\"descr-item-title\">Likes</p><p class=\"descr-item-value\">${likes}</p></li>\n// <li class=\"descr-item\"><p class=\"descr-item-title\">Views</p><p class=\"descr-item-value\">${views}</p></li>\n// <li class=\"descr-item\"><p class=\"descr-item-title\">Comments</p><p class=\"descr-item-value\">${comments}</p></li>\n// <li class=\"descr-item\"><p class=\"descr-item-title\">Downloads</p><p class=\"descr-item-value\">${downloads}</p></li>\n// </ul>\n    \n//     </li>`).join(\"\")\n// }\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { newLoader, clearGallery } from \"./js/render-functions\";\n\nconst formInput = document.querySelector(\".js-form\");\nformInput.addEventListener(\"submit\", submitHandler);\n\nfunction submitHandler(event) {\n    event.preventDefault();\n    const images = this.elements[\"search-text\"].value.trim();\n    if (!images) {\n        formInput.reset();\n        iziToast.show({\n            title: \"Enter correct data, please\",\n            backgroundColor: \"#ef4040\",\n            titleColor: \"#fff\",\n            titleSize: \"16px\",\n            position: \"topRight\",\n            width: \"300px\",\n        });\n        return;\n    }\nclearGallery();\nnewLoader('block');\ngetImagesByQuery(images);\n};\n"],"names":["createGallery","arr","galleryMarcup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","clearString","gallery","runLightbox","SimpleLightBox","newLoader","style","loader","API_KEY","nameInput","getImagesByQuery","images","axios","response","iziToast","error","formInput","submitHandler","event"],"mappings":"owBAQO,SAASA,EAAcC,EAAK,CAC3B,MAAMC,EAAiBD,EAAI,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAc;AAAA,sCACxFL,CAAa;AAAA,4CACPD,CAAY,UAAUE,CAAI;AAAA;AAAA,8FAEwBC,CAAK;AAAA,8FACLC,CAAK;AAAA,iGACFC,CAAQ;AAAA,kGACPC,CAAS;AAAA;AAAA;AAAA,KAGrG,EAAE,KAAK,EAAE,EACXC,EAAaR,CAAa,CAC9B,CAEO,SAASQ,EAAaC,EAAc,GAAI,CAC3C,MAAMC,EAAU,SAAS,cAAc,UAAU,EACrDA,EAAQ,UAAYD,EAChBA,GACAE,GAEJ,CAEA,SAASA,GAAc,CACA,IAAIC,EAAe,aAAc,CAChD,YAAa,MACb,aAAc,IACd,eAAgB,EACxB,CAAK,EACU,QAAO,CACtB,CAES,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAUD,CAC3B,CCvCA,MAAME,EAAU,qCAEVC,EAAY,SAAS,cAAc,gBAAgB,EASjD,SAASC,EAAiBC,EAAQ,CAItCC,EAAM,gCAAgCJ,CAAO,MAAMC,EAAU,KAAK,uEAAuE,EACxI,KAAKI,GAAY,CACd,GAAI,CAACA,EAAS,KAAK,KAAK,OAAQ,CAE5BC,EAAS,KAAK,CACV,MAAO,2EACP,gBAAiB,UACjB,WAAY,OACZ,UAAW,OACX,SAAU,UAG1B,CAAa,EACD,MACH,CACDxB,EAAcuB,EAAS,KAAK,IAAI,EAGjBA,EAAS,KAAK,IAErC,CAAK,EACA,MAAME,GAASD,EAAS,KAAK,CAClB,MAAO,GAAGC,EAAM,OAAO,GACvB,gBAAiB,UACjB,WAAY,OACZ,UAAW,OACX,SAAU,UAE1B,CAAa,CAAC,EACD,QAAQ,IAAM,CACXV,EAAU,MAAM,CAChC,CAAa,CACb,CC9CA,MAAMW,EAAY,SAAS,cAAc,UAAU,EACnDA,EAAU,iBAAiB,SAAUC,CAAa,EAElD,SAASA,EAAcC,EAAO,CAG1B,GAFAA,EAAM,eAAc,EAEhB,CADW,KAAK,SAAS,aAAa,EAAE,MAAM,OACrC,CACTF,EAAU,MAAK,EACfF,EAAS,KAAK,CACV,MAAO,6BACP,gBAAiB,UACjB,WAAY,OACZ,UAAW,OACX,SAAU,WACV,MAAO,OACnB,CAAS,EACD,MACH,CACLd,IACAK,EAAU,OAAO,EACjBK,EAAuB,CACvB"}