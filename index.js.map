{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nimport SimpleLightBox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// import getImagesByQuery from \"./pixabay-api\"\n\nconst galleryListing = document.querySelector(\".next-page-btn\");\n// createGallery(images)\nlet page = 1;\n// Controls the number of items in the group\nlet perPage = 12;\n\n\nexport function createGallery(arr) {\n        const galleryMarcup =  arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => { return `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n    <ul class=\"description\">\n    <li class=\"descr-item\"><p class=\"descr-item-title\">Likes</p><p class=\"descr-item-value\">${likes}</p></li>\n    <li class=\"descr-item\"><p class=\"descr-item-title\">Views</p><p class=\"descr-item-value\">${views}</p></li>\n    <li class=\"descr-item\"><p class=\"descr-item-title\">Comments</p><p class=\"descr-item-value\">${comments}</p></li>\n    <li class=\"descr-item\"><p class=\"descr-item-title\">Downloads</p><p class=\"descr-item-value\">${downloads}</p></li>\n    </ul></a>\n    </li>\n    `}).join(\"\");\n    // galleryListing.style.display = \"block\";\n    clearGallery(galleryMarcup)\n};\n// galleryListing.addEventListener(\"click\", async  )\n\nexport function clearGallery(clearString = \"\") {\n    const gallery = document.querySelector(\".gallery\");\ngallery.innerHTML = clearString;\nif (clearString) {\n    runLightbox();\n}\n};\n\nfunction runLightbox() {\n    const newGallery = new SimpleLightBox('.gallery a', {\n        captionData: 'alt',\n        captionDelay: 250,\n        overlayOpacity: 0.8,\n    });\n    newGallery.refresh();\n};\n\n  export function newLoader(style) {\n    const loader = document.querySelector(\".loader\");\n    loader.style.display = style; \n  }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\nimport { createGallery, newLoader } from \"./render-functions\";\nconst API_KEY = \"49624425-89d18311d8423019c2709bd63\";\n\nconst nameInput = document.querySelector(\".js-name-input\");\nconst fetchPostBtn = document.querySelector(\".next-page-btn\");\n\nconst formInput = document.querySelector(\".js-form\");\nlet pageNumber = 1;\nlet picQuantity = 0;\n// picQuantity();\n// async function picQuantity(quantity){\n//     try {const limitNumber = await axios(`https://pixabay.com/api/?key=${API_KEY}`);\n//     console.log(limitNumber.data.totalHits);}\n//     catch(error){\n//         showMessage(error.message, \"#ef4040\")\n//     }\n// };\n\n export async function getImagesByQuery(images) {\n    try {const response = await axios(`https://pixabay.com/api/?key=${API_KEY}&q=${nameInput.value}&image_type=photo&orientation=horizontal&safesearch=true&per_page=115&page=${pageNumber}`)\n    picQuantity = response.data.totalHits;\n    console.log(picQuantity);\n    console.log(response.data);\n        if (!response.data.hits.length) {\n            showMessage(\"Sorry, there are no images matching your search query. Please try again!\", \"#ef4040\");\n            formInput.reset();\n            return response.data.hits;\n        }\n        createGallery(response.data.hits);\n        pageNumber += 1;\n        if (pageNumber > 1) {\n            fetchPostBtn.display = \"block\";\n        }\n        const images = response.data.hits;\n    }\n    catch (error) {\n        showMessage(error.message, \"#ef4040\")\n    }\n    finally {\n        newLoader(\"none\");\n    };\n\n }\n\n\n\n\nexport function showMessage(textMessage, backColor) {\n    iziToast.show({\n        title: `${textMessage}`,\n        backgroundColor: `${backColor}`,\n        titleColor: \"#fff\",\n        titleSize: \"16px\",\n        position: \"topRight\",\n        // iconURL: '/src/public/ellipse.png',\n        // width: '300px',\n    })\n}\n// function errorVision() {\n//     iziToast.show({\n//         title: `${error.message}`,\n//         backgroundColor: \"#ef4040\",\n//         titleColor: \"#fff\",\n//         titleSize: \"16px\",\n//         position: \"topRight\",\n//         width: \"300px\",\n//     })\n// }\n\n// function galleryDatalist(arr) {\n//     return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `<li class=\"gallery-item\">\n//   <a class=\"gallery-link\" href=\"${largeImageURL}\">\n//       <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/></a>\n// <ul class=\"description\">\n// <li class=\"descr-item\"><p class=\"descr-item-title\">Likes</p><p class=\"descr-item-value\">${likes}</p></li>\n// <li class=\"descr-item\"><p class=\"descr-item-title\">Views</p><p class=\"descr-item-value\">${views}</p></li>\n// <li class=\"descr-item\"><p class=\"descr-item-title\">Comments</p><p class=\"descr-item-value\">${comments}</p></li>\n// <li class=\"descr-item\"><p class=\"descr-item-title\">Downloads</p><p class=\"descr-item-value\">${downloads}</p></li>\n// </ul>\n    \n//     </li>`).join(\"\")\n// }\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImagesByQuery, showMessage } from \"./js/pixabay-api\";\nimport { newLoader, clearGallery } from \"./js/render-functions\";\n\nconst formInput = document.querySelector(\".js-form\");\nformInput.addEventListener(\"submit\", submitHandler);\n\nfunction submitHandler(event) {\n    event.preventDefault();\n    const images = this.elements[\"search-text\"].value.trim();\n    if (!images) {\n        formInput.reset();\n        showMessage(\"Enter correct data, please\", \"#ef4040\");\n        return;\n    }\nclearGallery();\nnewLoader('block');\ngetImagesByQuery(images);\n};\n"],"names":["createGallery","arr","galleryMarcup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","clearString","gallery","runLightbox","SimpleLightBox","newLoader","style","loader","API_KEY","nameInput","fetchPostBtn","formInput","pageNumber","picQuantity","getImagesByQuery","images","response","axios","showMessage","error","textMessage","backColor","iziToast","submitHandler","event"],"mappings":"owBAKuB,SAAS,cAAc,gBAAgB,EAOvD,SAASA,EAAcC,EAAK,CAC3B,MAAMC,EAAiBD,EAAI,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAc;AAAA,sCACxFL,CAAa;AAAA,4CACPD,CAAY,UAAUE,CAAI;AAAA;AAAA,8FAEwBC,CAAK;AAAA,8FACLC,CAAK;AAAA,iGACFC,CAAQ;AAAA,kGACPC,CAAS;AAAA;AAAA;AAAA,KAGrG,EAAE,KAAK,EAAE,EAEXC,EAAaR,CAAa,CAC9B,CAGO,SAASQ,EAAaC,EAAc,GAAI,CAC3C,MAAMC,EAAU,SAAS,cAAc,UAAU,EACrDA,EAAQ,UAAYD,EAChBA,GACAE,GAEJ,CAEA,SAASA,GAAc,CACA,IAAIC,EAAe,aAAc,CAChD,YAAa,MACb,aAAc,IACd,eAAgB,EACxB,CAAK,EACU,QAAO,CACtB,CAES,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAUD,CAC3B,CC7CA,MAAME,EAAU,qCAEVC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAe,SAAS,cAAc,gBAAgB,EAEtDC,EAAY,SAAS,cAAc,UAAU,EACnD,IAAIC,EAAa,EACbC,EAAc,EAUV,eAAeC,EAAiBC,EAAQ,CAC5C,GAAI,CAAC,MAAMC,EAAW,MAAMC,EAAM,gCAAgCT,CAAO,MAAMC,EAAU,KAAK,8EAA8EG,CAAU,EAAE,EAIpL,GAHJC,EAAcG,EAAS,KAAK,UAC5B,QAAQ,IAAIH,CAAW,EACvB,QAAQ,IAAIG,EAAS,IAAI,EACjB,CAACA,EAAS,KAAK,KAAK,OACpB,OAAAE,EAAY,2EAA4E,SAAS,EACjGP,EAAU,MAAK,EACRK,EAAS,KAAK,KAEzB1B,EAAc0B,EAAS,KAAK,IAAI,EAChCJ,GAAc,EACVA,EAAa,IACbF,EAAa,QAAU,SAE3B,MAAMK,EAASC,EAAS,KAAK,IAChC,OACMG,EAAO,CACVD,EAAYC,EAAM,QAAS,SAAS,CACvC,QACO,CACJd,EAAU,MAAM,CAExB,CACE,CAKK,SAASa,EAAYE,EAAaC,EAAW,CAChDC,EAAS,KAAK,CACV,MAAO,GAAGF,CAAW,GACrB,gBAAiB,GAAGC,CAAS,GAC7B,WAAY,OACZ,UAAW,OACX,SAAU,UAGlB,CAAK,CACL,CCvDA,MAAMV,EAAY,SAAS,cAAc,UAAU,EACnDA,EAAU,iBAAiB,SAAUY,CAAa,EAElD,SAASA,EAAcC,EAAO,CAG1B,GAFAA,EAAM,eAAc,EAEhB,CADW,KAAK,SAAS,aAAa,EAAE,MAAM,OACrC,CACTb,EAAU,MAAK,EACfO,EAAY,6BAA8B,SAAS,EACnD,MACH,CACLlB,IACAK,EAAU,OAAO,EACjBS,EAAuB,CACvB"}